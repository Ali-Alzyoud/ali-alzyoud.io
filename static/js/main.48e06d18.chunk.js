(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},45:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n.n(c),i=n(16),a=n.n(i),o=(n(35),n(4)),s=(n(36),n(10)),l=n(11),u=n(30),d=n(29),j=n(8),b=n(3),p=n(6),f=n(26),O=(n(37),n(5)),m=n(18),h=n(13),v="SET_SUBTITLE",y="VIDEO_SRC",x="VIDEO_SRC_NAME",g="VIDEO_IS_LOADING",N="SET_TIME",S="SET_DURATION",T="SET_VOLUME",C="SET_MUTE",k="SET_SPEED",w="SET_PLAYER_STATE",F="SET_PLAYER_CONFIG",E="ADD_ITEMS",L="SET_ITEMS",I="REMOVE_ITEM_INDEX",P="REMOVE_ALL",R="UPDATE_ITEM",M="SET_FONT_CONFIG",V="SET_MODAL_OPEN",A="Blur",B="Blur Extra",D="Blur Extreme",_="Blur Extreme_X2",z="Black screen",U="Skip",H="Mute",G="No Action",J={records:[]},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:var n=t.payload.records;return Object(b.a)(Object(b.a)({},e),{},{records:[].concat(Object(h.a)(n),Object(h.a)(e.records))});case L:var c=t.payload.records;return Object(b.a)(Object(b.a)({},e),{},{records:c&&c.length>0?Object(h.a)(c):[]});case I:var r=t.payload.index,i=e.records.filter((function(e,t){return t!==r}));return Object(b.a)(Object(b.a)({},e),{},{records:Object(h.a)(i)});case P:return Object(b.a)(Object(b.a)({},e),{},{records:[]});case R:var a=t.payload,o=a.index,s=a.record,l=e.records.map((function(e,t){return t===o?s:e}));return Object(b.a)(Object(b.a)({},e),{},{records:Object(h.a)(l)});default:return e}},W=localStorage.getItem("playerConfig"),X={subtitle:[],videoSrc:null,videoName:"",time:0,duration:0,volume:1,mute:!1,speed:1,playerState:"pause",playerConfig:W?JSON.parse(W):{violence:[A,G],nudity:[U,H],profanity:[G,H]}},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:var n=t.payload.subtitle;return Object(b.a)(Object(b.a)({},e),{},{subtitle:n});case y:var c=t.payload.videoSrc;return Object(b.a)(Object(b.a)({},e),{},{videoSrc:c,videoIsLoading:c!=e.videoSrc});case g:var r=t.payload.videoIsLoading;return Object(b.a)(Object(b.a)({},e),{},{videoIsLoading:r});case x:var i=t.payload.videoName;return Object(b.a)(Object(b.a)({},e),{},{videoName:i});case N:var a=t.payload.time;return a=Math.max(a,0),e.duration&&(a=Math.min(a,e.duration)),Object(b.a)(Object(b.a)({},e),{},{time:a});case S:var o=t.payload.duration;return Object(b.a)(Object(b.a)({},e),{},{duration:o});case T:var s=t.payload.volume,l=Math.min(1,Math.max(s,0));return Object(b.a)(Object(b.a)({},e),{},{volume:l});case C:var u=t.payload.mute;return Object(b.a)(Object(b.a)({},e),{},{mute:u});case w:var d=t.payload.playerState;return Object(b.a)(Object(b.a)({},e),{},{playerState:d});case F:var j=t.payload.playerConfig;return localStorage.setItem("playerConfig",JSON.stringify(Object(b.a)(Object(b.a)({},e.playerConfig),j))),Object(b.a)(Object(b.a)({},e),{},{playerConfig:Object(b.a)(Object(b.a)({},e.playerConfig),j)});case k:var p=t.payload.speed;return Object(b.a)(Object(b.a)({},e),{},{speed:p});default:return e}},q=localStorage.getItem("fontConfig"),Q={fontConfig:q?JSON.parse(q):{size:40,transparency:.7},modalOpen:!1,isLoading:!1},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:var n=t.payload.fontConfig;return localStorage.fontConfig=JSON.stringify(n),Object(b.a)(Object(b.a)({},e),{},{fontConfig:n});case V:var c=t.payload.modalOpen;return Object(b.a)(Object(b.a)({},e),{},{modalOpen:c});default:return e}},$=Object(m.a)({sceneFilter:K,media:Y,settings:Z}),ee=Object(m.b)($),te=n(9),ne=n.n(te),ce=n(12),re=function(){function e(t,n){Object(s.a)(this,e);var c=t[n].split("--\x3e");for(this.from=e.ConvertToTime(c[0]),this.to=e.ConvertToTime(c[1]),this.content=[];t.length>n+1+this.content.length&&0!==t[n+1+this.content.length].length;){var r=t[n+1+this.content.length];this.content.push(e.ResolveTags(r))}}return Object(l.a)(e,null,[{key:"ConvertToTime",value:function(e){var t,n=0;return t=(e=(e=(e=e.replace(",",":")).replace(".",":")).replace(" ","")).split(":"),n+=60*Number(t[0])*60*1e3,n+=60*Number(t[1])*1e3,n+=1e3*Number(t[2]),n+=Number(t[3])}},{key:"ResolveTags",value:function(e){return e=(e=e.replace('<font color="','<span style="color:')).replace("</font>","</span>")}}]),e}(),ie=function(){function e(){Object(s.a)(this,e)}return Object(l.a)(e,null,[{key:"ReadFile",value:function(){var e=Object(ce.a)(ne.a.mark((function e(t){var n,c,r,i,a,o,s;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],c=[],e.next=4,fetch(t);case 4:return r=e.sent,e.next=7,r.text();case 7:for(i=e.sent,n=i.split("\n"),a=0;a<n.length;a++)n[a]=n[a].replace("\n",""),n[a]=n[a].replace("\r","");o=0,s=0;case 13:if(!(o<n.length)){e.next=22;break}if(n[o].includes(" --\x3e ")){e.next=17;break}return o++,e.abrupt("continue",13);case 17:c[s]=new re(n,o),o+=c[s].content.length+1,s++,e.next=13;break;case 22:return e.abrupt("return",c);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"GetContentAt",value:function(e,t){if(t*=1e3,e)for(var n=0;n<e.length;n++){var c=e[n];if(t>=c.from&&t<=c.to)return c.content}return[]}}]),e}(),ae={High:"High",Low:"Low"},oe={Violence:"violence",Nudity:"nudity",Profanity:"profanity"};ae.FromString=function(e){switch(e){case ae.High:return ae.High;case ae.Low:default:return ae.Low}},ae.ToString=function(e){switch(e){case ae.High:return ae.High;case ae.Low:default:return ae.Low}},oe.FromString=function(e){switch(e.toLowerCase()){case oe.Violence:return oe.Violence;case oe.Nudity:return oe.Nudity;case oe.Profanity:return oe.Profanity;default:return oe.Violence}},oe.ToString=function(e){switch(e.toLowerCase()){case oe.Violence:return oe.Violence;case oe.Nudity:return oe.Nudity;case oe.Profanity:return oe.Profanity;default:return oe.Violence}};var se=1,le=function(e,t,n,c){e=e||"00:00:00.000",t=t||"00:00:00.000",n=n||ae.Low,c=c||oe.Nudity,this.From=e,this.To=t,this.Type=c,this.Intensity=n,this.id=se++};le.FromString=function(e){var t=new le("00:00:00.000","00:00:00.000",ae.Low,oe.Violence);return t.fromString(e),t},le.prototype.toString=function(){var e="";return e+=this.From+"\n"+this.To+"\n"+this.Type+"\n"+this.Intensity+"\n"},le.prototype.fromString=function(e){for(var t=0;t<Math.min(e.length,4);t++)0===t?this.From=e[t]:1===t?this.To=e[t]:2===t?this.Type=oe.FromString(e[t]):3===t&&(this.Intensity=ae.FromString(e[t]))},le.ContainTime=function(e,t){var n=e.From.split(":"),c=e.To.split(":"),r=60*Number(n[0])*60+60*Number(n[1])+Number(n[2]),i=60*Number(c[0])*60+60*Number(c[1])+Number(c[2]);return!(r>=i)&&(t>=r&&t<=i)},le.prototype.containTime=function(e){var t=this.From.split(":"),n=this.To.split(":"),c=60*Number(t[0])*60+60*Number(t[1])+Number(t[2]),r=60*Number(n[0])*60+60*Number(n[1])+Number(n[2]);return!(c>=r)&&(e>=c&&e<=r)},le.prototype.setFromTime=function(e){var t=Math.floor(e/3600),n=Math.floor(e/60%60),c=(e%60).toFixed(2);this.From="".concat(t,":").concat(n,":").concat(c),this.id=se++},le.prototype.setToTime=function(e){var t=Math.floor(e/3600),n=Math.floor(e/60%60),c=(e%60).toFixed(2);this.To="".concat(t,":").concat(n,":").concat(c),this.id=se++},le.prototype.endTime=function(){var e=this.To.split(":");return 60*Number(e[0])*60+60*Number(e[1])+Number(e[2])};var ue=function(){function e(){Object(s.a)(this,e)}return Object(l.a)(e,null,[{key:"ReadFile",value:function(){var t=Object(ce.a)(ne.a.mark((function t(n){var c,r;return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(n);case 2:return c=t.sent,t.next=5,c.text();case 5:return r=t.sent,t.abrupt("return",e.FromString(r));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),e}();ue.FromString=function(e){for(var t=[],n=(e=e.replaceAll("\r","")).split("\n"),c=0;c<n.length;c+=5){var r=n.slice(c,c+4);if(r.length<4)break;t.push(le.FromString(r))}return t},ue.ToString=function(e){for(var t="",n=0;n<e.length;n++){t+=e[n].toString()+"\n"}return t},ue.GetRecordsAtTime=function(e,t){for(var n=[],c=0;c<e.length;c++){var r=e[c];le.ContainTime(r,t)&&n.push(r)}return n};var de=function(e){return e.sceneFilter.records},je=function(e){return e.media.subtitle},be=function(e){return e.media.videoSrc},pe=function(e){return e.media.videoName},fe=function(e){return e.media.time},Oe=function(e){return e.media.duration},me=function(e){return e.media.playerConfig},he=function(e){return e.media.volume},ve=function(e){return e.media.mute},ye=function(e){return e.media.speed},xe=function(e){return e.media.playerState},ge=function(e){return e.settings.modalOpen},Ne=function(e){return e.media.videoIsLoading},Se=function(e){return e.settings.fontConfig},Te=function(e){var t=je(ee.getState());return ie.GetContentAt(t,e)},Ce=function(e){return{type:v,payload:{subtitle:e}}},ke=function(e){return{type:y,payload:{videoSrc:e}}},we=function(e){return{type:x,payload:{videoName:e}}},Fe=function(e){return{type:N,payload:{time:e}}},Ee=function(e){return{type:S,payload:{duration:e}}},Le=function(e){return{type:T,payload:{volume:e}}},Ie=function(e){return{type:w,payload:{playerState:e}}},Pe=function(e){return{type:E,payload:{records:e}}},Re=function(e){return{type:L,payload:{records:e}}},Me=n(7),Ve=(n(45),n(1));var Ae,Be=function(e){var t=e.value,n=e.setValue,r=e.mute,i=Object(c.useRef)(null);return Object(Ve.jsxs)("div",{children:[Object(Ve.jsx)("span",{className:"slider-text",children:Math.floor(t)}),Object(Ve.jsx)("div",{ref:i,className:"slider-container",onClick:function(e){e.stopPropagation();var t=i.current.getBoundingClientRect(),c=e.clientY-t.top;n((t.height-c)/t.height)},children:Object(Ve.jsx)("div",{className:"slider-value",style:{position:"absolute",width:"100%",height:"".concat(Math.floor(t),"%"),background:"rgba(127,127,127,0.5)",bottom:"0px"}})}),r?Object(Ve.jsx)(Me.h,{style:{color:"white",marginTop:"5px"}}):Object(Ve.jsx)(Me.i,{style:{color:"white",marginTop:"5px"}})]})},De={width:"80%",zIndex:99,opacity:1,transition:"opacity 3s",position:"absolute",left:"10%",height:"100%"},_e={margin:"0 auto",width:"100%",height:"5px",background:"gray",position:"absolute",bottom:"50px"},ze={width:"100%",height:"5px",background:"white"},Ue={left:"100%",top:"-10px",marginLeft:"-12px",width:"24px",height:"24px",background:"white",position:"relative",borderRadius:"50%",border:"1px solid black",opacity:1},He={width:"32px",height:"32px",marginTop:"16px"},Ge=32,Je=231,Ke=37,We=39,Xe=70,Ye=179,qe=417,Qe=412,Ze=p.f;var $e=Object(O.b)((function(e){return{time:fe(e),duration:Oe(e),playerState:xe(e),volume:he(e),isMute:ve(e),modalOpen:ge(e),videoName:pe(e)}}),(Ae={setTime:Fe,setPlayerState:Ie},Object(j.a)(Ae,"setPlayerState",Ie),Object(j.a)(Ae,"setVolume",Le),Ae))((function(e){var t,n=e.time,r=e.setTime,i=e.duration,a=e.visible,s=e.playerState,l=e.setPlayerState,u=e.setVolume,d=e.volume,j=e.isMute,O=e.onFullscreen,m=e.videoName,h=e.modalOpen,v=Object(c.useRef)(null),y=Object(c.useRef)(null),x=Object(c.useRef)(null),g=Object(c.useRef)(null);t=a?Object(b.a)(Object(b.a)({},De),{},{opacity:1}):Object(b.a)(Object(b.a)({},De),{},{opacity:0});var N=Object(c.useState)(Ue),S=Object(o.a)(N,2),T=S[0],C=S[1],k=Object(c.useState)(He),w=Object(o.a)(k,2),F=w[0],E=w[1],L=Object(c.useState)(ze),I=Object(o.a)(L,1)[0],P=Object(c.useState)(0),R=Object(o.a)(P,2),M=R[0],V=R[1],A=Object(c.useState)(null),B=Object(o.a)(A,2),D=B[0],_=B[1],z=function(e){var t=Math.floor(e/3600%24),n=Math.floor(e/60%60),c=Math.floor(e%60);return t<10&&(t="0"+t),n<10&&(n="0"+n),c<10&&(c="0"+c),t+":"+n+":"+c};Object(c.useEffect)((function(){i>0&&V(Math.floor(n/i*100)/100),g.current.innerHTML=z(n)+" / "+z(i)}),[n,i]),Object(c.useEffect)((function(){if(!h&&D){var e=D.shiftKey?1:5;switch(D.ctrlKey&&(e*=2),D.altKey&&(e/=2),D.keyCode){case Ge:case Je:case Ye:W();break;case Ke:case Qe:r(n-e);break;case We:case qe:r(n+e);break;case Xe:O()}}}),[D]),Object(c.useEffect)((function(){var e=function(e){_(e)};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[]);var U=function(e){J(e.clientX)},H=function(e){"Handle"===e?C(Object(b.a)(Object(b.a)({},T),{},{cursor:"pointer"})):"Button"===e&&E(Object(b.a)(Object(b.a)({},F),{},{cursor:"pointer"}))},G=function(e){"Handle"===e?C(Object(b.a)(Object(b.a)({},T),{},{cursor:"arrow"})):"Button"===e&&E(Object(b.a)(Object(b.a)({},F),{},{cursor:"arrow"}))},J=function(e){var t=x.current.getBoundingClientRect(),n=(e-t.left)/t.width;n>=1&&(n=1),n<0&&(n=0),r(n*i)},K=function(){document.onpointermove=null,document.onpointerup=null};Object(c.useEffect)((function(){Ze="play"===s?p.e:p.f}),[s]);var W=function(e){m&&l("play"===s?"pause":"play")},X=Object(Ve.jsxs)("div",{className:"main-controls",children:[Object(Ve.jsx)(p.g,{className:"controls left",onClick:function(e){r(n-10),e.stopPropagation()}}),Object(Ve.jsx)(p.h,{className:"controls left",onClick:function(e){r(n-5),e.stopPropagation()}}),Object(Ve.jsx)(Ze,{id:"btn_play",alt:"error",style:Object(b.a)(Object(b.a)({},F),{},{color:"white"}),onClick:W,onPointerEnter:function(e){H("Button"),e.stopPropagation()},onPointerLeave:function(e){G("Button"),e.stopPropagation()}}),Object(Ve.jsx)(p.d,{className:"controls right",onClick:function(e){r(n+5),e.stopPropagation()}}),Object(Ve.jsx)(p.c,{className:"controls right",onClick:function(e){r(n+10),e.stopPropagation()}})]});return Object(Ve.jsxs)("div",{style:t,ref:v,children:[Object(Ve.jsx)("div",{style:_e,ref:x,onPointerDown:function(e){J(e.clientX),e.stopPropagation()},onPointerUp:K,onClick:function(e){return e.stopPropagation()},children:Object(Ve.jsx)("div",{style:Object(b.a)(Object(b.a)({},I),{},{width:100*M+"%"}),children:Object(Ve.jsx)("div",{style:T,ref:y,onPointerEnter:function(){H("Handle")},onPointerLeave:function(){G("Handle")},onPointerDown:function(e){document.onpointermove=U,document.onpointerup=K,document.onclick=function(e){return e.stopPropagation()},e.stopPropagation()},onClick:function(e){e.stopPropagation()}})})}),Object(Ve.jsx)("p",{ref:g,className:"controltime"}),X,Object(Ve.jsx)(f.a,{id:"full-screen",alt:"error",style:Object(b.a)(Object(b.a)({},F),{},{bottom:"10px",position:"absolute",right:"0",color:"white",paintOrder:"stroke fill",strokeWidth:"20px",stroke:"black"}),onClick:function(e){O(),e.stopPropagation()},onPointerEnter:function(){H("Button")},onPointerLeave:function(){G("Button")}}),Object(Ve.jsx)("div",{className:"controls-volume",children:Object(Ve.jsx)(Be,{value:100*d,mute:j,setValue:function(e){u(e)}})})]})})),et={pointerEvents:"none",position:"absolute",left:0,top:0,width:"100%",height:"100%",zIndex:2};var tt=Object(O.b)((function(e){return{records:de(e),time:fe(e),playerConfig:me(e)}}),{setMute:function(e){return{type:C,payload:{mute:e}}},setTime:Fe,setSpeed:function(e){return{type:k,payload:{speed:e}}}})((function(e){var t=e.records,n=e.time,r=e.setMute,i=e.setTime,a=e.setSpeed,s=e.playerConfig,l=e.blackScreen,u=Object(c.useState)(et),d=Object(o.a)(u,2),j=d[0],p=d[1];return Object(c.useEffect)((function(){if(l)p(Object(b.a)(Object(b.a)({},et),{},{background:"black"}));else if(t&&t.length){for(var e=function(e){var t=de(ee.getState());return ue.GetRecordsAtTime(t,e)}(n),c=!1,o=!1,u=!1,d=!1,j=!1,f=!1,O=!1,m=null,h=0;h<e.length;h++){var v=e[h];s[v.Type][0]!==H&&s[v.Type][1]!==H||(c=!0),s[v.Type][0]!==U&&s[v.Type][1]!==U||(o=!0,m=v),s[v.Type][0]!==z&&s[v.Type][1]!==z||(u=!0),s[v.Type][0]!==A&&s[v.Type][1]!==A||(d=!0),s[v.Type][0]!==B&&s[v.Type][1]!==B||(j=!0),s[v.Type][0]!==D&&s[v.Type][1]!==D||(f=!0),s[v.Type][0]!==_&&s[v.Type][1]!==_||(f=!0,O=!0)}r(c),o?i(m.endTime()+.01):(p(d||u||j||f?d?Object(b.a)(Object(b.a)({},et),{},{backdropFilter:"blur(15px)"}):j?Object(b.a)(Object(b.a)({},et),{},{backdropFilter:"blur(45px)"}):f?Object(b.a)(Object(b.a)({},et),{},{backdropFilter:"blur(80px)"}):Object(b.a)(Object(b.a)({},et),{},{background:"black"}):Object(b.a)({},et)),a(O?2:1))}}),[n,t,s,l]),Object(Ve.jsx)("div",{style:j})})),nt=n(27),ct={color:"white",fontSize:"20pt",backgroundColor:"rgba(0,0,0,0.7)"};var rt=Object(O.b)((function(e){return{subtitle:je(e),time:fe(e),fontSize:Se(e).size,fontTransparency:Se(e).transparency}}))((function(e){e.subtitle;var t=e.time,n=e.fontSize,c=e.fontTransparency;return ct=Object(b.a)(Object(b.a)({},ct),{},{backgroundColor:"rgba(0,0,0,"+c+")",fontSize:n+"px"}),Object(Ve.jsx)("div",{style:ct,children:Object(nt.a)(Te(t).join("\n"))})})),it=function(e,t,n){var c;return function(){var r=this,i=arguments;clearTimeout(c),e(),c=setTimeout((function(){return t.apply(r,i)}),n)}},at=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).onFullscreen=function(){document.fullscreenElement?document.exitFullscreen():r.player.current.parentElement.requestFullscreen()},r.render=function(){var e=r.props,t=e.videoSrc,n=e.setTime,c=e.setDuration,i=e.videoName,a=e.setPlayerState,o=e.setVideoIsLoading,s=e.playerState,l=e.setVolume,u=e.volume,d=r.state,j=d.time,b=d.duration,p=d.visible,f=d.blackScreen;return Object(Ve.jsxs)("div",{className:"playercontainer ".concat(p?"":"hidden"),onPointerMove:it((function(){r.setState({visible:!0})}),(function(){r.player.current&&(clearTimeout(r.hideTimer),r.hideTimer=setTimeout((function(){r.setState({visible:r.player.current.paused}),r.hideTimer=null}),1e3))}),2e3),onClick:function(){r.clickCount++,1===r.clickCount?r.timer=setTimeout((function(){r.clickCount=0,r.timer=null,i&&a("play"==s?"pause":"play")}),250):(clearTimeout(r.timer),r.clickCount=0,r.timer=null,r.onFullscreen())},onWheel:function(e){e.stopPropagation(),l(u+-5e-4*e.deltaY)},onPointerDown:function(e){1==e.button&&r.setState({blackScreen:!f},(function(){a("pause")}))},children:[Object(Ve.jsx)("video",{className:"player ".concat(t?"":"no-source"),src:t,ref:r.player,onLoadedData:function(e){o(!1);var t=localStorage.getItem(i)||0;n(Number(t)),c(e.target.duration),a("pause")},onSeeking:function(e){var t=r.player.current.currentTime;n(t)},onSeeked:function(e){var t=r.player.current.currentTime;n(t)},onTimeUpdate:function(e){n(e.target.currentTime)}}),Object(Ve.jsx)(tt,{blackScreen:f}),Object(Ve.jsxs)("div",{style:{display:"grid",position:"absolute",gridTemplateRows:"60% 20% 20%",top:"0%",left:0,width:"100%",height:"100%",zIndex:3},children:[Object(Ve.jsx)("div",{className:"subtitlecontainer",children:Object(Ve.jsx)(rt,{time:1e3*j})}),Object(Ve.jsx)("div",{className:"controlscontainer",children:Object(Ve.jsx)($e,{ref:r.control,style:{width:"80%"},playAction:r.playAction,currentTime:j,duration:b,visible:p,onFullscreen:r.onFullscreen,state:s})})]})]})},r.state={time:0,duration:0,visible:!0,blackScreen:!1},r.player=Object(c.createRef)(),r.control=Object(c.createRef)(),r.hideTimer=null,r.localStorageUpdateCounter=0,r.clickCount=0,r.timer=null,r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.progressSave=setInterval((function(){var t=e.props,n=t.time,c=t.videoName,r=t.isLoading;c&&n&&!r&&localStorage.setItem(c,n)}),5e3)}},{key:"componentWillUnmount",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.progressSave&&(clearInterval(this.progressSave),this.progressSave=null)}},{key:"componentDidUpdate",value:function(e,t){var n=this,c=this.props,r=c.time,i=c.playerState,a=c.volume,o=c.mute,s=c.speed;this.props.videoSrc!==e.videoSrc&&this.setState({time:r,visible:!0,blackScreen:!1}),Math.abs(r-this.player.current.currentTime)>.5&&(this.player.current.currentTime=r),(o||Math.abs(a-this.player.current.volume)>.01)&&(this.player.current.volume=o?0:a),"play"===i&&this.player.current.paused?(this.player.current.play(),this.setState({blackScreen:!1}),clearTimeout(this.hideTimer),this.hideTimer=setTimeout((function(){n.setState({visible:!1}),n.hideTimer=null}),1e3)):"pause"!==i||this.player.current.paused||(this.player.current.pause(),this.hideTimer&&(clearTimeout(this.hideTimer),this.hideTimer=null),this.setState({visible:!0})),this.player.current.playbackRate!=s&&(this.player.current.playbackRate=s)}}]),n}(r.a.PureComponent),ot=Object(O.b)((function(e){return{videoSrc:be(e),time:fe(e),volume:he(e),mute:ve(e),playerState:xe(e),speed:ye(e),videoName:pe(e),isLoading:Ne(e)}}),{setDuration:Ee,setTime:Fe,setPlayerState:Ie,setVolume:Le,setVideoIsLoading:function(e){return{type:g,payload:{videoIsLoading:e}}}})(at);n(61);var st=function(e){var t=e.close;return Object(Ve.jsx)("div",{className:"overlay",children:Object(Ve.jsxs)("div",{className:"box",children:[Object(Ve.jsx)("h1",{children:" Guided Scene Player/Editor "}),Object(Ve.jsx)("p",{children:" Creator : Ali M Alzyod "}),Object(Ve.jsx)("p",{children:" ali198724@gmail.com "}),Object(Ve.jsx)("p",{children:Object(Ve.jsx)("a",{className:"box-links",href:"https://github.com/Ali-Alzyoud/ScenesControl",children:" https://github.com/Ali-Alzyoud/ScenesControl "})}),Object(Ve.jsx)("p",{children:" App Version : (2022) 0.1v "}),Object(Ve.jsx)("br",{}),Object(Ve.jsx)("p",{className:"bold",children:" Key Bindings Editing "}),Object(Ve.jsxs)("div",{className:"part",children:["e : open Editor ",Object(Ve.jsx)("br",{}),"c : open configure"]}),Object(Ve.jsxs)("div",{className:"part",children:["[ : from time ",Object(Ve.jsx)("br",{}),"] : to time"]}),Object(Ve.jsxs)("div",{className:"part",children:["n : new record ",Object(Ve.jsx)("br",{}),"s : select record"]}),Object(Ve.jsx)("div",{className:"part",children:"Ctrl + s : Save Filter File"}),Object(Ve.jsx)("br",{}),Object(Ve.jsx)("p",{className:"bold",children:" Key Bindings Playing"}),Object(Ve.jsxs)("div",{className:"part center",children:["Space/Play : play/pause ",Object(Ve.jsx)("br",{}),"F : FullScreen"]}),Object(Ve.jsx)("p",{className:"bold",children:" Mouse Bindings "}),Object(Ve.jsxs)("div",{className:"part",children:["Left-Click : Play/Pause ",Object(Ve.jsx)("br",{}),"Left-Double Click : FullScreen on/off ",Object(Ve.jsx)("br",{}),"Middle : Back Screen on/off ",Object(Ve.jsx)("br",{})]}),Object(Ve.jsx)("br",{}),Object(Ve.jsx)("br",{}),Object(Ve.jsx)("br",{}),Object(Ve.jsx)("button",{className:"button",onClick:t,children:"Ok"})]})})};n(62);var lt=Object(O.b)((function(e){return{fontConfig:Se(e)}}),{setSettings_fontConfig:function(e){return{type:M,payload:{fontConfig:e}}}})((function(e){var t=e.close,n=e.fontConfig,c=e.setSettings_fontConfig,r=function(e){var t=Object(b.a)({},n);t.transparency=Math.round(10*(t.transparency+e))/10,t.transparency>1||t.transparency<0||c(t)};return Object(Ve.jsx)("div",{className:"settings-container",children:Object(Ve.jsxs)("div",{className:"settings-container-box",children:[Object(Ve.jsxs)("div",{className:"settings-container-record",children:[Object(Ve.jsx)("span",{children:"Font-Size"}),Object(Ve.jsxs)("span",{children:[Object(Ve.jsx)("button",{onClick:function(){n.size>10&&c(Object(b.a)(Object(b.a)({},n),{},{size:n.size-10}))},children:"-"}),Object(Ve.jsx)("span",{children:" "+n.size+" "}),Object(Ve.jsx)("button",{onClick:function(){n.size<80&&c(Object(b.a)(Object(b.a)({},n),{},{size:n.size+10}))},children:"+"})]})]}),Object(Ve.jsxs)("div",{className:"settings-container-record",children:[Object(Ve.jsx)("span",{children:"Font-Back"}),Object(Ve.jsxs)("span",{children:[Object(Ve.jsx)("button",{onClick:function(){r(-.1)},children:"-"}),Object(Ve.jsx)("span",{children:" "+n.transparency.toFixed(1)+" "}),Object(Ve.jsx)("button",{onClick:function(){r(.1)},children:"+"})]})]}),Object(Ve.jsx)("div",{className:"settings-container-record add-margin",children:Object(Ve.jsx)("button",{className:"button",onClick:t,children:"Close"})})]})})})),ut=n(21);function dt(e){var t=e.imgSrc,n=e.title,c=e.link,r=e.index,i=e.isSelected,a=e.select,o=e.copy,s=e.readyToPlay;return Object(Ve.jsxs)("div",{className:"file-record ".concat(s?"ready":""),children:[Object(Ve.jsx)("img",{src:t,onClick:function(){c&&window.open(c)}}),s?Object(Ve.jsxs)("div",{children:[Object(Ve.jsx)("h4",{className:"title ready",children:"Ready To Play"}),Object(Ve.jsx)("br",{}),Object(Ve.jsx)("h2",{className:"title",children:n})]}):Object(Ve.jsx)("h2",{className:"title",children:n}),Object(Ve.jsxs)("div",{style:{flex:2,flexFlow:"row-reverse",display:"flex",textAlign:"end",height:"100%"},children:[i?Object(Ve.jsx)(ut.b,{className:"file-record-icon"}):Object(Ve.jsx)(ut.a,{className:"file-record-icon",onClick:function(){return a(r)}}),Object(Ve.jsx)(p.b,{className:"file-record-icon",onClick:function(){return o(r)}})]})]})}var jt="https://raw.githubusercontent.com/Ali-Alzyoud/MediaFilterFiles/main/Media",bt=jt+"/mediaRecords.json";function pt(){return(pt=Object(ce.a)(ne.a.mark((function e(){var t,n;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(bt+"?".concat(Date.now()),{method:"GET"});case 2:return t=e.sent,t.status,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(63);var ft=n(28);n(64);var Ot=function(){return Object(Ve.jsx)("div",{className:"loader-container",children:Object(Ve.jsx)(ft.a,{className:"loader-icon"})})};var mt=Object(O.b)(null,{setSubtitle:Ce,setFilterItems:Re,setModalOpen:function(e){return{type:V,payload:{modalOpen:e}}},setVideoSrc:ke,setVideoName:we,setDuration:Ee,setTime:Fe})((function(e){var t=e.close,n=e.setFilterItems,r=e.setSubtitle,i=e.setVideoSrc,a=e.setVideoName,s=e.setModalOpen,l=e.setDuration,u=(e.setTime,Object(c.useState)([])),d=Object(o.a)(u,2),j=d[0],b=d[1],f=Object(c.useState)(),O=Object(o.a)(f,2),m=O[0],h=O[1],v=Object(c.useState)(),y=Object(o.a)(v,2),x=y[0],g=y[1],N=function(e){h(e);var c=j[e],o=c.isAbsoluteLink?"":jt+"/";if(ie.ReadFile(o+c.subtitle).then((function(e){r(e)})),c.filterSrc?ue.ReadFile(o+c.filterSrc).then((function(e){n(e)})):n([]),c.video){i(c.video);var s=c.video.replace(/^.*[\\\/]/,"")||"sample";a(s),l(0)}t()},S=function(e){var t=j[e],n=window.location.origin+"#/"+btoa(t.video)+"/"+btoa(t.subtitle?jt+"/"+t.subtitle:"")+"/"+btoa(t.filterSrc?jt+"/"+t.filterSrc:"");window.location.href=n};return Object(c.useEffect)((function(){return function(){return pt.apply(this,arguments)}().then((function(e){b(e.records)})),s(!0),function(){s(!1)}}),[]),Object(Ve.jsx)("div",{className:"filters-container",children:Object(Ve.jsxs)("div",{className:"filters-container-body",children:[Object(Ve.jsx)(p.a,{className:"filters-container-close",onClick:t}),Object(Ve.jsx)("div",{className:"filters-container-input-container",children:Object(Ve.jsx)("input",{className:"filters-container-input",onChange:function(e){g(e.target.value.toLowerCase()),e.stopPropagation(),e.preventDefault()}})}),Object(Ve.jsx)(p.i,{className:"filters-container-search"}),Object(Ve.jsx)("div",{className:"filter-files",children:Object(Ve.jsx)("list",{children:j&&j.length>0?j.map((function(e,t){return x&&!e.title.toLowerCase().includes(x)?null:Object(Ve.jsx)(dt,{imgSrc:e.img,title:e.title,link:e.movie,index:t,readyToPlay:!!e.video,isSelected:void 0!==m&&m==t,select:N,copy:S})})):Object(Ve.jsx)("div",{style:{width:"100%",position:"absolute",alignContent:"center"},children:Object(Ve.jsx)(Ot,{})})})})]})})}));n(65);var ht=Object(O.b)(null,{setVideoSrc:ke,setVideoName:we,setSubtitle:Ce,setFilterItems:Re,setTime:Fe,setDuration:Ee})((function(e){var t=e.setFilterItems,n=e.setVideoSrc,r=e.setVideoName,i=e.setSubtitle,a=e.setTime,s=e.setDuration,l=Object(c.useRef)(null),u=Object(c.useRef)(null),d=Object(c.useRef)(null),j=Object(c.useRef)(null),b=Object(c.useRef)(null),p=Object(c.useRef)(null),f=Object(c.useState)(0),O=Object(o.a)(f,2),m=O[0],h=O[1],v=Object(c.useState)(!1),y=Object(o.a)(v,2),x=y[0],g=y[1],N=Object(c.useState)(!1),S=Object(o.a)(N,2),T=S[0],C=S[1],k=Object(c.useState)(!1),w=Object(o.a)(k,2),F=w[0],E=w[1],L=Object(c.useState)({}),I=Object(o.a)(L,2),P=(I[0],I[1]);return Object(c.useEffect)((function(){fetch("videos.json").then((function(e){e.json().then((function(e){P(e)}))}))}),[]),Object(Ve.jsxs)("div",{className:"navbar",children:[Object(Ve.jsxs)("div",{className:"dropdown",children:[Object(Ve.jsx)("button",{className:"dropbtn",children:"File"}),Object(Ve.jsxs)("div",{className:"dropdown-content",children:[Object(Ve.jsx)("input",{className:"hidden",ref:l,type:"file",onChange:function(e){if(!(e.target.files.length<1)){var t=URL.createObjectURL(e.target.files[0]),c=e.target.files[0].name;n(t),r(c);var i=localStorage.getItem(c)||0;s(0),a(Number(i)),h(m+1)}}},m),Object(Ve.jsx)("input",{className:"hidden",ref:u,type:"file",onChange:function(e){e.target.files.length<1||(ie.ReadFile(URL.createObjectURL(e.target.files[0])).then((function(e){i(e)})),h(m+1))}},m),Object(Ve.jsx)("input",{className:"hidden",ref:d,type:"file",onChange:function(e){if(!(e.target.files.length<1)){var n=URL.createObjectURL(e.target.files[0]);ue.ReadFile(n).then((function(e){t(e)})),h(m+1)}}},m),Object(Ve.jsx)("a",{href:"#",onClick:function(){return l.current.click()},children:"Open video"}),Object(Ve.jsx)("a",{href:"#",onClick:function(){return u.current.click()},children:"Open subtitle"}),Object(Ve.jsx)("a",{href:"#",onClick:function(){return d.current.click()},children:"Open filter"})]})]}),Object(Ve.jsxs)("div",{className:"dropdown",children:[Object(Ve.jsx)("button",{className:"dropbtn",children:"URL"}),Object(Ve.jsxs)("div",{className:"dropdown-content files",children:[Object(Ve.jsx)("span",{children:"Video :"}),Object(Ve.jsx)("input",{ref:j,type:"text"}),Object(Ve.jsx)("br",{}),Object(Ve.jsx)("span",{children:"Subtitle :"}),Object(Ve.jsx)("input",{ref:b,type:"text"}),Object(Ve.jsx)("br",{}),Object(Ve.jsx)("span",{children:"Filter :"}),Object(Ve.jsx)("input",{ref:p,type:"text"}),Object(Ve.jsx)("br",{}),Object(Ve.jsx)("a",{href:"#",onClick:function(){var e=j.current.value,c=b.current.value,a=p.current.value;e&&(n(e),r("URL")),a&&ue.ReadFile(a).then((function(e){t(e)})),c&&ie.ReadFile(c).then((function(e){i(e)}))},children:"LOAD"})]})]}),Object(Ve.jsx)("div",{className:"dropdown",children:Object(Ve.jsx)("button",{className:"dropbtn blue",onClick:function(){E(!0)},children:"Store"})}),Object(Ve.jsx)("div",{className:"dropdown",children:Object(Ve.jsx)("button",{className:"dropbtn",onClick:function(){C(!0)},children:"Settings"})}),Object(Ve.jsx)("div",{className:"dropdown",children:Object(Ve.jsx)("button",{className:"dropbtn",onClick:function(){g(!0)},children:"About"})}),x&&Object(Ve.jsx)(st,{close:function(){g(!1)}}),T&&Object(Ve.jsx)(lt,{close:function(){C(!1)}}),F&&Object(Ve.jsx)(mt,{close:function(){E(!1)}})]})}));function vt(e){var t=e.record,n=(e.index,e.isSelected),r=e.removeItem,i=e.selectItem,a=e.updateItem,s=t.From.split(":"),l=t.To.split(":"),u=Object(c.useState)({fh:s[0],fm:s[1],fs:s[2],th:l[0],tm:l[1],ts:l[2],type:t.Type,intensity:t.Intensity}),d=Object(o.a)(u,2),p=d[0],f=d[1],O=function(e){var n=Object(b.a)(Object(b.a)({},p),{},Object(j.a)({},e.target.name,e.target.value));f(n);var c=n.fh+":"+n.fm+":"+n.fs,r=n.th+":"+n.tm+":"+n.ts,i=n.type,a=n.intensity;t.From=c,t.To=r,t.Type=i,t.Intensity=a},m=function(){a(t)};return Object(Ve.jsxs)("tr",{children:[Object(Ve.jsxs)("td",{children:[Object(Ve.jsx)("input",{onBlurCapture:m,onChange:O,className:"bk",name:"fh",value:p.fh}),"\xa0:\xa0",Object(Ve.jsx)("input",{onBlurCapture:m,onChange:O,className:"bk",name:"fm",value:p.fm}),"\xa0:\xa0",Object(Ve.jsx)("input",{onBlurCapture:m,onChange:O,className:"bkLong",name:"fs",value:p.fs})]}),Object(Ve.jsxs)("td",{children:[Object(Ve.jsx)("input",{onBlurCapture:m,onChange:O,className:"bk",name:"th",value:p.th}),"\xa0:\xa0",Object(Ve.jsx)("input",{onBlurCapture:m,onChange:O,className:"bk",name:"tm",value:p.tm}),"\xa0:\xa0",Object(Ve.jsx)("input",{onBlurCapture:m,onChange:O,className:"bkLong",name:"ts",value:p.ts})]}),Object(Ve.jsx)("td",{children:Object(Ve.jsxs)("select",{className:"selectType",onBlurCapture:m,onChange:O,name:"type",value:p.type,children:[Object(Ve.jsx)("option",{value:oe.Violence,selected:t.Type===oe.Violence,children:oe.Violence}),Object(Ve.jsx)("option",{value:oe.Nudity,selected:t.Type===oe.Nudity,children:oe.Nudity}),Object(Ve.jsx)("option",{value:oe.Profanity,selected:t.Type===oe.Profanity,children:oe.Profanity})]})}),Object(Ve.jsx)("td",{children:Object(Ve.jsxs)("select",{className:"selectType",onBlurCapture:m,onChange:O,name:"intensity",value:p.intensity,children:[Object(Ve.jsx)("option",{value:ae.Low,selected:t.Intensity===ae.Low,children:ae.Low}),Object(Ve.jsx)("option",{value:ae.High,selected:t.Intensity===ae.High,children:ae.High})]})}),Object(Ve.jsx)("td",{children:Object(Ve.jsx)("div",{className:"container remove",onClick:function(){r(t)},style:{margin:"0 auto"},children:Object(Ve.jsx)(Me.c,{className:"middle"})})}),Object(Ve.jsx)("td",{children:Object(Ve.jsx)("div",{className:"container select",onClick:function(){i(t)},style:{margin:"0 auto"},children:n?Object(Ve.jsx)(Me.d,{className:"middle"}):Object(Ve.jsx)(Me.g,{className:"middle"})})})]})}n(66);var yt=78,xt=83,gt=219,Nt=221;var St=Object(O.b)((function(e){var t=de(e),n=pe(e);return{records:t,time:fe(e),videoName:n,modalOpen:ge(e)}}),{addFilterItems:Pe,removeFilterIndex:function(e){return{type:I,payload:{index:e}}},removeAllFilters:function(){return{type:P,payload:{}}},updateFilterItem:function(e,t){return{type:R,payload:{record:e,index:t}}}})((function(e){var t=e.records,n=e.time,r=e.videoName,i=e.addFilterItems,a=e.removeFilterIndex,s=e.removeAllFilters,l=e.updateFilterItem,u=e.modalOpen,d=Object(c.useState)(null),j=Object(o.a)(d,2),b=j[0],p=j[1],f=Object(c.useState)(0),O=Object(o.a)(f,2),m=O[0],h=O[1],v=Object(c.useState)(null),y=Object(o.a)(v,2),x=y[0],g=y[1];Object(c.useEffect)((function(){if(!u&&x)switch(x.keyCode){case yt:N();break;case xt:x.ctrlKey?w():T(t[0]);break;case gt:C("from");break;case Nt:C("to")}}),[x]),Object(c.useEffect)((function(){var e=function(e){g(e)};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[]);var N=function(){var e=[new le];return i(e),h(m+1),e},S=function(e){var n=t.indexOf(e);-1!==n&&(a(n),h(m+1))},T=function(e){var n=t.indexOf(e);-1!==n?t[n]===b?p(null):p(e):p(null)},C=function(e){if(b){var c=t.indexOf(b);-1!==c&&("from"===e?b.setFromTime(n):b.setToTime(n),k(b,c))}},k=function(e,t){e&&-1!==t&&(l(e,t),h(m+1))},w=function(){var e=document.createElement("a"),n=new Blob([ue.ToString(t)],{type:"text/plain"});e.href=URL.createObjectURL(n),e.download=r+".txt",document.body.appendChild(e),e.click()};return Object(Ve.jsxs)("div",{className:"editor-container",children:[Object(Ve.jsx)("div",{className:"container",onClick:N,children:Object(Ve.jsx)(Me.e,{className:"middle"})}),Object(Ve.jsx)("div",{className:"container",onClick:w,children:Object(Ve.jsx)(Me.f,{className:"middle"})}),Object(Ve.jsx)("div",{className:"container",onClick:function(){return C("from")},children:Object(Ve.jsx)(Me.a,{className:"middle",style:b?{}:{pointerEvents:"none",opacity:"0.4"}})}),Object(Ve.jsx)("div",{className:"container",onClick:function(){return C("to")},children:Object(Ve.jsx)(Me.b,{className:"middle",style:b?{}:{pointerEvents:"none",opacity:"0.4"}})}),Object(Ve.jsx)("div",{className:"container red",onClick:function(){s()},children:Object(Ve.jsx)(Me.c,{className:"middle"})}),Object(Ve.jsx)("br",{}),Object(Ve.jsx)("br",{}),Object(Ve.jsx)("div",{className:"table-container",children:Object(Ve.jsxs)("table",{children:[Object(Ve.jsxs)("tr",{children:[Object(Ve.jsx)("th",{children:"From"}),Object(Ve.jsx)("th",{children:"To"}),Object(Ve.jsx)("th",{children:"Type"}),Object(Ve.jsx)("th",{children:"Intensity"})]}),t.map((function(e,t){return Object(Ve.jsx)(vt,{index:t,record:e,isSelected:b===e,removeItem:S,updateItem:k,selectItem:T})}))]})},m)]})}));n(67);var Tt=Object(O.b)((function(e){return{playerConfig:me(e)}}),{setPlayerConfig:function(e){return{type:F,payload:{playerConfig:e}}}})((function(e){var t=e.playerConfig,n=e.setPlayerConfig,c=function(e){var c=t.violence[1];"nudity"==e.target.name?c=t.nudity[1]:"profanity"==e.target.name&&(c=t.profanity[1]),n(Object(j.a)({},e.target.name,[e.target.value,c]))},r=function(e){var c=t.violence[0];"nudity"==e.target.name?c=t.nudity[0]:"profanity"==e.target.name&&(c=t.profanity[0]),n(Object(j.a)({},e.target.name,[c,e.target.value]))},i=[Object(Ve.jsx)("option",{value:A,children:A}),Object(Ve.jsx)("option",{value:B,children:B}),Object(Ve.jsx)("option",{value:D,children:D}),Object(Ve.jsx)("option",{value:_,children:_}),Object(Ve.jsx)("option",{value:z,children:z}),Object(Ve.jsx)("option",{value:U,children:U}),Object(Ve.jsx)("option",{value:G,children:G})],a=[Object(Ve.jsx)("option",{value:H,children:H}),Object(Ve.jsx)("option",{value:G,children:G})];return Object(Ve.jsxs)("div",{className:"config",children:[Object(Ve.jsxs)("div",{className:"item",children:[Object(Ve.jsx)("span",{children:"Violence"}),Object(Ve.jsx)("select",{onChange:c,name:"violence",value:t.violence[0],children:i.map((function(e){return e}))}),Object(Ve.jsx)("select",{onChange:r,name:"violence",value:t.violence[1],children:a.map((function(e){return e}))})]}),Object(Ve.jsxs)("div",{className:"item",children:[Object(Ve.jsx)("span",{children:"Nudity"}),Object(Ve.jsx)("select",{onChange:c,name:"nudity",value:t.nudity[0],children:i.map((function(e){return e}))}),Object(Ve.jsx)("select",{onChange:r,name:"nudity",value:t.nudity[1],children:a.map((function(e){return e}))})]}),Object(Ve.jsxs)("div",{className:"item",children:[Object(Ve.jsx)("span",{children:"Profanity"}),Object(Ve.jsx)("select",{onChange:c,name:"profanity",value:t.profanity[0],children:i.map((function(e){return e}))}),Object(Ve.jsx)("select",{onChange:r,name:"profanity",value:t.profanity[1],children:a.map((function(e){return e}))})]})]})}));n(68);var Ct=function(e){var t=e.on,n=e.onClick,c=e.children;return Object(Ve.jsxs)("div",{className:"toggle-container",children:[Object(Ve.jsxs)("label",{class:"switch",children:[Object(Ve.jsx)("input",{type:"checkbox",checked:!!t,onClick:n}),Object(Ve.jsx)("span",{class:"slider round"})]}),Object(Ve.jsx)("div",{className:"title",children:c})]})},kt=69,wt=67;var Ft=Object(O.b)((function(e){return{modalOpen:ge(e),isLoading:Ne(e)}}),{addFilterItems:Pe,setVideoSrc:ke,setSubtitle:Ce,setDuration:Ee,setTime:Fe,setVideoName:we})((function(e){var t=e.addFilterItems,n=e.setVideoSrc,r=e.setVideoName,i=e.setSubtitle,a=(e.modalOpen,e.isLoading),s=(e.setDuration,e.setTime,Object(c.useState)(!1)),l=Object(o.a)(s,2),u=l[0],d=l[1],j=Object(c.useState)(!1),b=Object(o.a)(j,2),p=b[0],f=b[1],O=Object(c.useState)(0),m=Object(o.a)(O,2),h=(m[0],m[1],Object(c.useState)(null)),v=Object(o.a)(h,2),y=v[0],x=v[1],g=Object(c.useRef)(null),N=function(){var e="",c="",a="",o=window.location.hash,s=o.split("/");if(0!=s.length&&(1!=s.length||0!=s[0].length)){if("/"!=o&&s.length>=2&&(s[1]&&s[1].length>0&&(e=atob(s[1])),s[2]&&s[2].length>0&&(c=atob(s[2])),s[3]&&s[3].length>0&&(a=atob(s[3]))),e){var l=e.replace(/^.*[\\\/]/,"")||"sample";n(e),r(l)}c.toLowerCase().startsWith("http")?ie.ReadFile(c).then((function(e){i(e)})):i([]),a.toLowerCase().startsWith("http")?ue.ReadFile(a).then((function(e){t(e)})):Re([])}};return Object(c.useEffect)((function(){N()}),[]),Object(c.useEffect)((function(){window.onhashchange=function(){N()}}),[]),Object(c.useEffect)((function(){if(!e.modalOpen&&y)switch(y.keyCode){case kt:d(!u);break;case wt:f(!p)}}),[y]),Object(c.useEffect)((function(){var e=function(e){x(e)};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[u,p]),Object(Ve.jsxs)("div",{className:"App",ref:g,children:[Object(Ve.jsx)(ht,{}),a&&Object(Ve.jsx)("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translateX(-50%) translateY(-50%);"},children:Object(Ve.jsx)(Ot,{})}),Object(Ve.jsxs)("div",{style:{opacity:a?0:1},children:[Object(Ve.jsx)("div",{style:{width:"100%",margin:"0 auto",marginTop:"32px"},children:Object(Ve.jsx)(ot,{})}),Object(Ve.jsx)(Ct,{on:u,onClick:function(){d(!u)},children:"Editor"}),Object(Ve.jsx)(Ct,{on:p,onClick:function(){f(!p)},children:"Config"}),u&&Object(Ve.jsx)("div",{className:"filter-container",children:Object(Ve.jsx)(St,{})}),p&&Object(Ve.jsx)("div",{className:"config-container",children:Object(Ve.jsx)(Tt,{})})]})]})})),Et=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,71)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),i(e),a(e)}))};a.a.render(Object(Ve.jsx)(r.a.StrictMode,{children:Object(Ve.jsx)(O.a,{store:ee,children:Object(Ve.jsx)(Ft,{})})}),document.getElementById("root")),Et()}},[[69,1,2]]]);
//# sourceMappingURL=main.48e06d18.chunk.js.map